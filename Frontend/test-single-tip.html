<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Single Tip Generation</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #0a0a0a;
            color: #ffffff;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .test-section {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .test-button {
            background: #2563eb;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }
        .test-button:hover {
            background: #1d4ed8;
        }
        .test-button.success {
            background: #059669;
        }
        .result {
            background: #262626;
            border: 1px solid #404040;
            border-radius: 4px;
            padding: 15px;
            margin-top: 15px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .status.success {
            background: #065f46;
            border: 1px solid #10b981;
        }
        .status.error {
            background: #7f1d1d;
            border: 1px solid #ef4444;
        }
        .status.info {
            background: #1e3a8a;
            border: 1px solid #3b82f6;
        }
        .example-content {
            background: #1a1a1a;
            border: 1px solid #404040;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß™ Test Single Tip Generation</h1>
            <p>Prueba la generaci√≥n de un solo tip con el formato correcto</p>
        </div>

        <div class="test-section">
            <h2>üìã Problema Identificado</h2>
            <div class="status error">
                <strong>El Ghost Agent no est√° creando archivos porque:</strong><br>
                1. No tiene contexto del archivo 01-BePolite<br>
                2. No est√° usando el formato FILE_OPERATION correcto<br>
                3. No tiene el ejemplo de formato para seguir
            </div>
        </div>

        <div class="test-section">
            <h2>üîß Soluci√≥n Implementada</h2>
            <div class="status success">
                <strong>Ahora el SimpleBookGenerator:</strong><br>
                1. Incluye el contenido completo del ejemplo 01-BePolite<br>
                2. Usa el formato FILE_OPERATION correcto<br>
                3. Proporciona instrucciones espec√≠ficas al agente
            </div>
        </div>

        <div class="test-section">
            <h2>üìÑ Ejemplo de Formato (01-BePolite)</h2>
            <div class="example-content" id="example-content">
                Cargando ejemplo...
            </div>
        </div>

        <div class="test-section">
            <h2>üß™ Test de Generaci√≥n</h2>
            <button class="test-button" onclick="testDirectoryCreation()">1. Crear Directorio</button>
            <button class="test-button success" onclick="testSingleTipGeneration()">2. Generar Tip de Prueba</button>
            <button class="test-button" onclick="testFileCheck()">3. Verificar Archivo</button>
            <div id="test-result" class="result" style="display: none;"></div>
        </div>

        <div class="test-section">
            <h2>üìÅ Estructura Esperada</h2>
            <div class="status info">
                <strong>Archivo que se debe crear:</strong><br>
                <code>GHOST_Proyectos/libros/Boceto_101_Tips_para_Hablar_con_la_IA/Tips_Generados/Tip_99_Tip_de_Prueba.md</code><br><br>
                <strong>Contenido esperado:</strong><br>
                - Misma estructura que 01-BePolite<br>
                - Todas las secciones con emojis<br>
                - Contenido adaptado para "Tip de Prueba"
            </div>
        </div>
    </div>

    <script>
        // Load example content
        const exampleContent = `# 01 ‚Äì BePolite: Ser educado con la IA

**Categor√≠a:** Actitud y √âtica  
**Nivel:** B√°sico / Fundacional  
**Tiempo de lectura estimado:** 5 minutos  
---

## üß† Resumen

Ser educado con una Inteligencia Artificial no es un gesto in√∫til, ni una p√©rdida de tiempo. Es un h√°bito que refuerza tu identidad, tu forma de comunicarte y tu capacidad de liderar conversaciones claras, respetuosas y eficaces.

---

## ‚úçÔ∏è Una breve historia

En 2023, una empresa de consultor√≠a de Nueva York decidi√≥ experimentar: le pidi√≥ a todo su equipo que redactara prompts para inteligencia artificial durante una semana... sin usar f√≥rmulas de cortes√≠a.

---

## ‚ùì ¬øPor qu√© importa?

### 1. La forma en que hablas moldea tu forma de pensar.
### 2. Entrenas tu cerebro cada vez que te expresas.
### 3. Alg√∫n d√≠a liderar√°s un equipo ‚Äîy las formas importan.

---

## üõ†Ô∏è C√≥mo aplicarlo

### 1. Inicia con cortes√≠a
### 2. Agradece los buenos resultados
### 3. Corrige con amabilidad
### 4. Usa un lenguaje conversacional

---

## üß™ Ejemplo pr√°ctico

### Prompt A (fr√≠o):  
> Haz una tabla con los beneficios del ejercicio.

### Prompt B (educado):  
> Hola. Estoy creando contenido sobre salud f√≠sica y necesito una tabla clara con los beneficios m√°s conocidos del ejercicio regular. ¬øPodr√≠as ayudarme con eso? ¬°Gracias!

---

## üí¨ Frase para recordar

> **"La IA no necesita respeto, pero t√∫ s√≠ necesitas mantenerlo."**

---

## üìå Tips extra

- No es sumisi√≥n, es elegancia.  
- No es fingir, es cultivar.  
- No es por la m√°quina, es por tu versi√≥n futura.  

---

## üìç ¬øD√≥nde aplicarlo?

- Al escribir correos con asistencia de IA  
- Al generar propuestas con tono humano  
- Al delegar tareas complejas paso a paso  

---

## ‚úÖ Mini reto pr√°ctico

**Durante 24 horas, redacta todos tus prompts con f√≥rmulas de cortes√≠a.**  
Eval√∫a los resultados, anota diferencias.  
Comparte tus conclusiones con un colega.

---

## ‚úíÔ∏è Cierre

Recuerda: no escribes prompts para controlar una m√°quina, sino para entrenarte como pensador, estratega y comunicador.`;

        document.getElementById('example-content').textContent = exampleContent;

        async function testDirectoryCreation() {
            const resultDiv = document.getElementById('test-result');
            resultDiv.style.display = 'block';
            resultDiv.textContent = 'Creating directory...';
            
            try {
                const response = await fetch('/api/ai/ghost-agent', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        message: `Crea el directorio Tips_Generados en GHOST_Proyectos/libros/Boceto_101_Tips_para_Hablar_con_la_IA si no existe. Usa el formato === FILE_OPERATION === para crear la carpeta.`,
                        projectPath: 'GHOST_Proyectos/libros/Boceto_101_Tips_para_Hablar_con_la_IA'
                    })
                });
                
                const data = await response.json();
                resultDiv.textContent = `‚úÖ Directory Creation:\n${JSON.stringify(data, null, 2)}`;
            } catch (error) {
                resultDiv.textContent = `‚ùå Directory Creation Error:\n${error.message}`;
            }
        }

        async function testSingleTipGeneration() {
            const resultDiv = document.getElementById('test-result');
            resultDiv.style.display = 'block';
            resultDiv.textContent = 'Generating single tip...';
            
            try {
                const command = `Bas√°ndote en este ejemplo del archivo 01-BePolite, crea el tip 99 "Tip de Prueba" siguiendo EXACTAMENTE el mismo formato y estructura:

EJEMPLO DE FORMATO:
${exampleContent}

INSTRUCCIONES:
1. Usa EXACTAMENTE la misma estructura y formato del ejemplo
2. Mant√©n todos los emojis y secciones
3. Adapta el contenido para el tip "Tip de Prueba"
4. Usa el formato === FILE_OPERATION === para crear el archivo

=== FILE_OPERATION ===
{
  "operation": "create_file",
  "path": "GHOST_Proyectos/libros/Boceto_101_Tips_para_Hablar_con_la_IA/Tips_Generados/Tip_99_Tip_de_Prueba.md",
  "content": "CONTENIDO_COMPLETO_DEL_TIP_AQUI"
}
=== END_FILE_OPERATION ===`;

                const response = await fetch('/api/ai/ghost-agent', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        message: command,
                        projectPath: 'GHOST_Proyectos/libros/Boceto_101_Tips_para_Hablar_con_la_IA'
                    })
                });
                
                const data = await response.json();
                resultDiv.textContent = `‚úÖ Single Tip Generation:\n${JSON.stringify(data, null, 2)}`;
            } catch (error) {
                resultDiv.textContent = `‚ùå Single Tip Generation Error:\n${error.message}`;
            }
        }

        async function testFileCheck() {
            const resultDiv = document.getElementById('test-result');
            resultDiv.style.display = 'block';
            resultDiv.textContent = 'Checking if file was created...';
            
            try {
                const response = await fetch('/api/projects/files', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        projectPath: 'GHOST_Proyectos/libros/Boceto_101_Tips_para_Hablar_con_la_IA',
                        filePath: 'Tips_Generados/Tip_99_Tip_de_Prueba.md'
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    resultDiv.textContent = `‚úÖ File Check:\n${JSON.stringify(data, null, 2)}`;
                } else {
                    resultDiv.textContent = `‚ùå File not found or error reading file`;
                }
            } catch (error) {
                resultDiv.textContent = `‚ùå File Check Error:\n${error.message}`;
            }
        }
    </script>
</body>
</html> 